!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var r=t[e];delete t[e];var a={id:e,exports:{}};return n[e]=a,r.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){t[e]=r},r.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),u=a("5IjG7"),s=a("h6c0i"),c=a("hjiBg"),l=a("1KhuP"),d={form:document.querySelector(".search-form"),gallery:document.querySelector(".gallery"),guard:document.querySelector(".js-guard"),loaderContainer:document.querySelector(".loader-container"),span:document.querySelector(".js-selected-value"),options:document.querySelector(".options-container")},f=new(0,c.PixabayApiService),p=new(e(u))(".gallery a",{captionsData:"alt",captionDelay:250}),g=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&v()}))}),{rootMargin:"600px"}),y=0;function v(){return h.apply(this,arguments)}function h(){return(h=e(o)(e(i).mark((function r(){var n,t,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.fetchImages();case 3:if(n=e.sent,t=n.totalHits,(a=n.hits).length){e.next=9;break}return s.Notify.warning("Sorry, there are no images matching your search query. Please try again."),e.abrupt("return");case 9:m(a),y||s.Notify.success("Hooray! We found ".concat(t," images.")),(y+=a.length)<t?g.observe(d.guard):g.unobserve(d.guard),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),s.Notify.failure("Oops! Something went wrong! Try reloading the page!");case 18:return e.prev=18,b(d.loaderContainer),p.refresh(),e.finish(18);case 22:case"end":return e.stop()}}),r,null,[[0,15,18,22]])})))).apply(this,arguments)}function m(e){d.gallery.insertAdjacentHTML("beforeend",(0,l.createMarkup)(e))}function b(e){e.classList.add("is-hidden")}function w(e){e.classList.remove("is-hidden")}d.form.addEventListener("submit",(function(e){e.preventDefault(),d.gallery.innerHTML="",y=0,g.unobserve(d.guard);var r=e.currentTarget.elements,n=r.searchQuery,t=r.imageType,a=r.orientation,o=r.perPage;if(f.query=n.value,f.image_type=t.value,f.orientation=a.value,f.per_page=o.value,!f.query)return void s.Notify.info("Please, enter your search query.");f.resetPage(),w(d.loaderContainer),b(d.options),v()})),d.form.addEventListener("input",(function(e){d.span.textContent="".concat(e.currentTarget.elements.perPage.value),w(d.options)}))}();
//# sourceMappingURL=infinite-scroll.1251c95d.js.map
