!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var r=t[e];delete t[e];var a={id:e,exports:{}};return n[e]=a,r.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){t[e]=r},r.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),u=a("5IjG7"),c=a("h6c0i"),s=a("hjiBg"),l=a("1KhuP"),f={form:document.querySelector(".search-form"),gallery:document.querySelector(".gallery"),guard:document.querySelector(".js-guard"),loaderContainer:document.querySelector(".loader-container")},d=new(0,s.PixabayApiService),y=new(e(u))(".gallery a",{captionsData:"alt",captionDelay:250}),g=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&h()}))}),{rootMargin:"600px"}),p=0;function h(){return v.apply(this,arguments)}function v(){return(v=e(o)(e(i).mark((function r(){var n,t,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.fetchImages();case 3:if(n=e.sent,t=n.totalHits,(a=n.hits).length){e.next=9;break}return c.Notify.warning("Sorry, there are no images matching your search query. Please try again."),e.abrupt("return");case 9:m(a),p||c.Notify.success("Hooray! We found ".concat(t," images.")),(p+=a.length)<t?g.observe(f.guard):g.unobserve(f.guard),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),c.Notify.failure("Oops! Something went wrong! Try reloading the page!");case 18:return e.prev=18,b(f.loaderContainer),y.refresh(),e.finish(18);case 22:case"end":return e.stop()}}),r,null,[[0,15,18,22]])})))).apply(this,arguments)}function m(e){f.gallery.insertAdjacentHTML("beforeend",(0,l.createMarkup)(e))}function b(e){e.classList.add("is-hidden")}f.form.addEventListener("submit",(function(e){if(e.preventDefault(),function(){f.gallery.innerHTML="",p=0}(),d.query=e.currentTarget.elements.searchQuery.value.trim(),!d.query)return void c.Notify.info("Please, enter your search query.");d.resetPage(),r=f.loaderContainer,r.classList.remove("is-hidden"),h();var r}))}();
//# sourceMappingURL=infinite-scroll.d56964ba.js.map
